Titanium.UI.setBackgroundColor('#000');var theImage=null;var theThumbnail=null;Titanium.include('header.js');Titanium.include('chooser.js');Titanium.include('config.js');Titanium.include('result.js');Titanium.include('confirm.js');var viewContainer=Titanium.UI.createView({top:60,width:320,height:420});viewContainer.add(chooser);viewContainer.add(config);viewContainer.add(result);viewContainer.add(confirmation);function showConfig(){viewContainer.animate({view:config,transition:Ti.UI.iPhone.AnimationStyle.FLIP_FROM_LEFT});chooser.visible=false;config.visible=true;result.visible=false;confirmation.visible=false;}
function showChooser(){viewContainer.animate({view:chooser,transition:Ti.UI.iPhone.AnimationStyle.FLIP_FROM_LEFT});chooser.visible=true;config.visible=false;result.visible=false;confirmation.visible=false;}
function showResult(){viewContainer.animate({view:result,transition:Ti.UI.iPhone.AnimationStyle.FLIP_FROM_LEFT});chooser.visible=false;config.visible=false;result.visible=true;confirmation.visible=false;}
function showConfirmation(){viewContainer.animate({view:confirmation,transition:Ti.UI.iPhone.AnimationStyle.FLIP_FROM_LEFT});chooser.visible=false;config.visible=false;result.visible=false;confirmation.visible=true;}
Titanium.App.addEventListener("profileClicked",function(e){if(!config.visible){showConfig();}
else{showChooser();}});var app=Ti.UI.createWindow({backgroundImage:'images/bg.png'});app.add(headerView);app.add(viewContainer);app.open({transition:Titanium.UI.iPhone.AnimationStyle.FLIP_FROM_LEFT});var storedUsername=Titanium.App.Properties.getString("un");if(storedUsername==null||storedUsername==''){showConfig();}
else{username.text=storedUsername;}
if(!Titanium.Network.online){var a=Titanium.UI.createAlertDialog({title:'Network Connection Required',message:'Snapost requires an internet connection to, you know, upload stuff to the internet.  Check your network connection and try again.'});a.show();}